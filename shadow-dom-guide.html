<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadow DOM ã¨ Lit - è–„ã„ãƒ©ãƒƒãƒ‘ãƒ¼ã®çœŸå®Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 0.5em;
            color: #111;
        }

        h2 {
            font-size: 1.8em;
            margin: 2em 0 1em;
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 0.3em;
        }

        h3 {
            font-size: 1.3em;
            margin: 1.5em 0 0.5em;
            color: #444;
        }

        p {
            margin-bottom: 1em;
            color: #666;
            font-size: 1.05em;
        }

        .intro {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .intro h2 {
            color: white;
            border: none;
            margin-top: 0;
        }

        .intro p {
            color: rgba(255, 255, 255, 0.95);
        }

        .highlight {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
        }

        .highlight strong {
            color: #856404;
        }

        .demo-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        @media (max-width: 768px) {
            .demo-container {
                grid-template-columns: 1fr;
            }
        }

        .demo-box {
            padding: 20px;
            background: #fafafa;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
        }

        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #e83e8c;
        }

        pre {
            background: #2a2a2a;
            color: #e8e8e8;
            padding: 20px;
            border-radius: 4px;
            overflow-x: auto;
            margin: 20px 0;
            font-size: 0.85em;
            line-height: 1.6;
        }

        pre .comment {
            color: #7c7c7c;
        }

        pre .keyword {
            color: #c792ea;
        }

        pre .string {
            color: #c3e88d;
        }

        pre .function {
            color: #82aaff;
        }

        .comparison-table {
            margin: 30px 0;
            border-collapse: collapse;
            width: 100%;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border: 1px solid #e0e0e0;
        }

        .comparison-table th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }

        .comparison-table tr:nth-child(even) {
            background: #f9f9f9;
        }

        .mapping {
            background: #e7f3ff;
            border-left: 4px solid #2196f3;
            padding: 20px;
            margin: 20px 0;
        }

        .mapping h3 {
            color: #1976d2;
            margin-top: 0;
        }

        .code-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .code-comparison {
                grid-template-columns: 1fr;
            }
        }

        .code-block {
            position: relative;
        }

        .code-label {
            background: #667eea;
            color: white;
            padding: 8px 15px;
            border-radius: 4px 4px 0 0;
            font-weight: 600;
            font-size: 0.9em;
        }

        .code-label.vanilla {
            background: #ff6b6b;
        }

        .code-label.lit {
            background: #51cf66;
        }

        .arrow {
            text-align: center;
            font-size: 2em;
            color: #667eea;
            margin: 20px 0;
        }

        ul {
            margin-left: 2em;
            margin-bottom: 1em;
        }

        li {
            margin-bottom: 0.5em;
            color: #666;
        }

        .conclusion {
            background: #f8f9fa;
            border: 2px solid #667eea;
            padding: 30px;
            border-radius: 8px;
            margin: 40px 0 20px;
        }

        .conclusion h2 {
            color: #667eea;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Shadow DOM ã¨ Lit - è–„ã„ãƒ©ãƒƒãƒ‘ãƒ¼ã®çœŸå®Ÿ</h1>

        <div class="intro">
            <h2>Lit ã¯æœ¬å½“ã«ã€Œè–„ã„ãƒ©ãƒƒãƒ‘ãƒ¼ã€</h2>
            <p>Lit ã¯é­”æ³•ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®æ¨™æº– Web Components APIï¼ˆShadow DOMã€Custom Elementsï¼‰ã«å¯¾ã™ã‚‹è–„ã„ä¾¿åˆ©å±¤ã§ã™ã€‚</p>
            <p>ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€ç´ ã®JavaScriptã¨Litã‚’ä¸¦ã¹ã¦æ¯”è¼ƒã—ã€LitãŒã©ã‚Œã ã‘ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ©ãƒƒãƒ‘ãƒ¼ã§ã‚ã‚‹ã‹ã‚’ç¤ºã—ã¾ã™ã€‚</p>
        </div>

        <h2>1. Shadow DOM ã®åŸºæœ¬æ§‹é€ </h2>
        <p>ã¾ãšã€ãƒ–ãƒ©ã‚¦ã‚¶æ¨™æº–ã®Shadow DOMã‚’ç†è§£ã—ã¾ã—ã‚‡ã†ã€‚Shadow DOMã¯ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ï¼š</p>

        <ul>
            <li><strong>ã‚«ãƒ—ã‚»ãƒ«åŒ–</strong>: ã‚¹ã‚¿ã‚¤ãƒ«ã¨DOMãƒ„ãƒªãƒ¼ã‚’å¤–éƒ¨ã‹ã‚‰éš”é›¢</li>
            <li><strong>å†åˆ©ç”¨æ€§</strong>: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç‹¬ç«‹ã—ãŸãƒ¦ãƒ‹ãƒƒãƒˆã¨ã—ã¦æ‰±ãˆã‚‹</li>
            <li><strong>ã‚¹ã‚³ãƒ¼ãƒ—ä»˜ãã‚¹ã‚¿ã‚¤ãƒ«</strong>: CSSãŒå¤–éƒ¨ã«æ¼ã‚Œãªã„</li>
        </ul>

        <div class="highlight">
            <strong>é‡è¦:</strong> Shadow DOMã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒã‚¤ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ã§ã™ã€‚Litã¯å˜ã«ã“ã‚Œã‚’ä½¿ã„ã‚„ã™ãã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚
        </div>

        <h3>Shadow Host ã¨ Shadow Root</h3>
        <p>Shadow DOMã¯2ã¤ã®é‡è¦ãªæ¦‚å¿µã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼š</p>

        <table class="comparison-table">
            <thead>
                <tr>
                    <th>æ¦‚å¿µ</th>
                    <th>èª¬æ˜</th>
                    <th>ä¾‹</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Shadow Host</strong></td>
                    <td>Shadow DOMã‚’æŒã¤é€šå¸¸ã®DOMè¦ç´ </td>
                    <td><code>&lt;my-component&gt;</code></td>
                </tr>
                <tr>
                    <td><strong>Shadow Root</strong></td>
                    <td>Shadow Treeã®ãƒ«ãƒ¼ãƒˆãƒãƒ¼ãƒ‰ï¼ˆéš”é›¢ã•ã‚ŒãŸDOMãƒ„ãƒªãƒ¼ï¼‰</td>
                    <td><code>element.shadowRoot</code></td>
                </tr>
                <tr>
                    <td><strong>Shadow Tree</strong></td>
                    <td>Shadow Rootä»¥ä¸‹ã®DOMæ§‹é€ å…¨ä½“</td>
                    <td>å†…éƒ¨ã®<code>&lt;div&gt;</code>ã‚„<code>&lt;button&gt;</code>ãªã©</td>
                </tr>
            </tbody>
        </table>

        <pre>// Shadow DOMã®åŸºæœ¬çš„ãªä½œæˆæ–¹æ³•
const element = document.querySelector('my-component');

<span class="comment">// Shadow Rootã‚’ä½œæˆï¼ˆShadow Hostã«æ¥ç¶šï¼‰</span>
const shadowRoot = element.attachShadow({ mode: 'open' });

<span class="comment">// Shadow Treeå†…ã«è¦ç´ ã‚’è¿½åŠ </span>
shadowRoot.innerHTML = \`
  &lt;style&gt;
    /* ã“ã®ã‚¹ã‚¿ã‚¤ãƒ«ã¯å¤–éƒ¨ã«æ¼ã‚Œãªã„ */
    p { color: red; }
  &lt;/style&gt;
  &lt;p&gt;Shadow DOMå†…ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„&lt;/p&gt;
\`;</pre>

        <h3>ã‚«ãƒ—ã‚»ãƒ«åŒ–ã®å…·ä½“ä¾‹ï¼šã‚¹ã‚¿ã‚¤ãƒ«ã®åˆ†é›¢</h3>
        <p>Shadow DOMã®æœ€å¤§ã®ç‰¹å¾´ã¯ã€<strong>å®Œå…¨ãªã‚¹ã‚¿ã‚¤ãƒ«ã®åˆ†é›¢</strong>ã§ã™ï¼š</p>

        <div class="code-comparison">
            <div class="code-block">
                <div class="code-label vanilla">é€šå¸¸ã®DOMï¼ˆLight DOMï¼‰</div>
                <pre>&lt;!-- å¤–éƒ¨ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒå½±éŸ¿ã™ã‚‹ --&gt;
&lt;style&gt;
  p { color: blue; }
&lt;/style&gt;

&lt;div&gt;
  &lt;p&gt;ã“ã®æ–‡å­—ã¯é’è‰²&lt;/p&gt;
&lt;/div&gt;</pre>
            </div>
            <div class="code-block">
                <div class="code-label lit">Shadow DOM</div>
                <pre>&lt;!-- å¤–éƒ¨ã®ã‚¹ã‚¿ã‚¤ãƒ«ã¯å½±éŸ¿ã—ãªã„ --&gt;
&lt;style&gt;
  p { color: blue; }
&lt;/style&gt;

&lt;my-component&gt;
  #shadow-root
    &lt;style&gt;p { color: red; }&lt;/style&gt;
    &lt;p&gt;ã“ã®æ–‡å­—ã¯èµ¤è‰²ï¼ˆéš”é›¢ã•ã‚Œã¦ã„ã‚‹ï¼‰&lt;/p&gt;
&lt;/my-component&gt;</pre>
            </div>
        </div>

        <h3>Shadow DOMã®ãƒ¢ãƒ¼ãƒ‰</h3>
        <p><code>attachShadow()</code>ã«ã¯2ã¤ã®ãƒ¢ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™ï¼š</p>

        <table class="comparison-table">
            <thead>
                <tr>
                    <th>ãƒ¢ãƒ¼ãƒ‰</th>
                    <th>èª¬æ˜</th>
                    <th>ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•</th>
                    <th>ç”¨é€”</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>mode: 'open'</code></td>
                    <td>å¤–éƒ¨ã‹ã‚‰Shadow Rootã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½</td>
                    <td><code>element.shadowRoot</code>ã§å–å¾—å¯</td>
                    <td>ä¸€èˆ¬çš„ãªç”¨é€”ï¼ˆãƒ‡ãƒãƒƒã‚°å¯èƒ½ï¼‰</td>
                </tr>
                <tr>
                    <td><code>mode: 'closed'</code></td>
                    <td>å¤–éƒ¨ã‹ã‚‰Shadow Rootã«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯</td>
                    <td><code>element.shadowRoot</code>ã¯<code>null</code></td>
                    <td>å®Œå…¨ã«ã‚«ãƒ—ã‚»ãƒ«åŒ–ã—ãŸã„å ´åˆ</td>
                </tr>
            </tbody>
        </table>

        <pre>// openãƒ¢ãƒ¼ãƒ‰ï¼ˆæ¨å¥¨ï¼‰
const shadowRoot = element.attachShadow({ mode: 'open' });
console.log(element.shadowRoot); <span class="comment">// ShadowRoot {...}</span>

// closedãƒ¢ãƒ¼ãƒ‰
const shadowRoot2 = element2.attachShadow({ mode: 'closed' });
console.log(element2.shadowRoot); <span class="comment">// nullï¼ˆã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ï¼‰</span></pre>

        <div class="mapping">
            <h3>ğŸ’¡ å®Ÿç”¨ä¸Šã®ãƒã‚¤ãƒ³ãƒˆ</h3>
            <p>ã»ã¨ã‚“ã©ã®å ´åˆã€<code>mode: 'open'</code>ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚Litã‚‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§<code>'open'</code>ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚<code>'closed'</code>ã¯é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã®ãƒ‡ãƒãƒƒã‚°ãŒå›°é›£ã«ãªã‚‹ãŸã‚ã€ç‰¹åˆ¥ãªç†ç”±ãŒãªã„é™ã‚Šé¿ã‘ã‚‹ã¹ãã§ã™ã€‚</p>
        </div>

        <h3>ã‚¹ãƒ­ãƒƒãƒˆï¼ˆSlotï¼‰: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æŒ¿å…¥</h3>
        <p>Shadow DOMã§ã¯ã€<code>&lt;slot&gt;</code>è¦ç´ ã‚’ä½¿ã£ã¦å¤–éƒ¨ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æŒ¿å…¥ã§ãã¾ã™ï¼š</p>

        <pre>// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©
class MyCard extends HTMLElement {
  constructor() {
    super();
    const shadow = this.attachShadow({ mode: 'open' });
    shadow.innerHTML = \`
      &lt;style&gt;
        .card { border: 1px solid #ccc; padding: 20px; }
        ::slotted(h2) { color: #667eea; } <span class="comment">/* ã‚¹ãƒ­ãƒƒãƒˆã•ã‚ŒãŸè¦ç´ ã®ã‚¹ã‚¿ã‚¤ãƒ« */</span>
      &lt;/style&gt;
      &lt;div class="card"&gt;
        <span class="comment">&lt;!-- åå‰ä»˜ãã‚¹ãƒ­ãƒƒãƒˆ --&gt;</span>
        &lt;slot name="title"&gt;ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¿ã‚¤ãƒˆãƒ«&lt;/slot&gt;
        <span class="comment">&lt;!-- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ãƒ­ãƒƒãƒˆ --&gt;</span>
        &lt;slot&gt;ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„&lt;/slot&gt;
      &lt;/div&gt;
    \`;
  }
}

customElements.define('my-card', MyCard);</pre>

        <pre>&lt;!-- ä½¿ç”¨ä¾‹ --&gt;
&lt;my-card&gt;
  <span class="comment">&lt;!-- slot="title"ã§åå‰ä»˜ãã‚¹ãƒ­ãƒƒãƒˆã«æŒ¿å…¥ --&gt;</span>
  &lt;h2 slot="title"&gt;ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¤ãƒˆãƒ«&lt;/h2&gt;
  <span class="comment">&lt;!-- ã‚¹ãƒ­ãƒƒãƒˆåãŒãªã„è¦ç´ ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¹ãƒ­ãƒƒãƒˆã« --&gt;</span>
  &lt;p&gt;ã“ã‚Œã¯ã‚«ãƒ¼ãƒ‰ã®æœ¬æ–‡ã§ã™&lt;/p&gt;
&lt;/my-card&gt;</pre>

        <h3>:host ç–‘ä¼¼ã‚¯ãƒ©ã‚¹</h3>
        <p>Shadow DOMå†…ã‹ã‚‰ã€Shadow Hostï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè‡ªèº«ï¼‰ã‚’ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã™ã‚‹æ–¹æ³•ï¼š</p>

        <pre>&lt;style&gt;
  <span class="comment">/* Shadow Hostè‡ªèº«ã‚’ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */</span>
  :host {
    display: block;
    border: 1px solid #ddd;
  }

  <span class="comment">/* ç‰¹å®šã®ã‚¯ãƒ©ã‚¹ãŒä»˜ã„ã¦ã„ã‚‹å ´åˆ */</span>
  :host(.highlighted) {
    border-color: red;
  }

  <span class="comment">/* ç‰¹å®šã®æ–‡è„ˆã«ã‚ã‚‹å ´åˆ */</span>
  :host-context(.dark-theme) {
    background: #333;
    color: white;
  }
&lt;/style&gt;</pre>

        <div class="highlight">
            <strong>Shadow DOMã®ä¸»è¦API ã¾ã¨ã‚ï¼š</strong>
            <ul style="margin-top: 10px;">
                <li><code>element.attachShadow({ mode: 'open' })</code> - Shadow Rootã‚’ä½œæˆ</li>
                <li><code>element.shadowRoot</code> - Shadow Rootã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆopenãƒ¢ãƒ¼ãƒ‰ã®ã¿ï¼‰</li>
                <li><code>&lt;slot&gt;</code> - å¤–éƒ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æŒ¿å…¥ãƒã‚¤ãƒ³ãƒˆ</li>
                <li><code>:host</code> - Shadow Hostï¼ˆè‡ªåˆ†è‡ªèº«ï¼‰ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°</li>
                <li><code>::slotted(selector)</code> - ã‚¹ãƒ­ãƒƒãƒˆã•ã‚ŒãŸè¦ç´ ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°</li>
            </ul>
        </div>

        <h2>2. ç´ ã®JavaScript vs Lit - å®Ÿè£…æ¯”è¼ƒ</h2>
        <p>åŒã˜ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã€ç´ ã®JavaScriptã¨Litã§å®Ÿè£…ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>

        <div class="demo-container">
            <div class="demo-box">
                <h3>ç´ ã®JavaScriptç‰ˆ</h3>
                <vanilla-counter></vanilla-counter>
            </div>
            <div class="demo-box">
                <h3>Litç‰ˆ</h3>
                <lit-counter></lit-counter>
            </div>
        </div>

        <p><strong>è¦‹ãŸç›®ã‚‚å‹•ä½œã‚‚å…¨ãåŒã˜ã§ã™ã€‚</strong> ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’æ¯”è¼ƒã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>

        <h3>ç´ ã®JavaScriptã§ã®å®Ÿè£…ï¼ˆç´„65è¡Œï¼‰</h3>
        <pre>class VanillaCounter extends HTMLElement {
  constructor() {
    super();
    <span class="comment">// 1. Shadow DOMã‚’æ‰‹å‹•ã§ä½œæˆ</span>
    this.attachShadow({ mode: 'open' });
    this._count = 0;
  }

  connectedCallback() {
    <span class="comment">// 2. ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æ‰‹å‹•ã§styleè¦ç´ ã¨ã—ã¦ä½œæˆ</span>
    const style = document.createElement('style');
    style.textContent = \`
      :host { display: block; }
      button { background: #667eea; color: white; ... }
    \`;

    <span class="comment">// 3. HTMLè¦ç´ ã‚’ä¸€ã¤ãšã¤æ‰‹å‹•ã§ä½œæˆ</span>
    const container = document.createElement('div');
    const title = document.createElement('h3');
    title.textContent = 'ç´ ã®JavaScriptç‰ˆ';

    const countDisplay = document.createElement('div');
    countDisplay.textContent = \`ã‚«ã‚¦ãƒ³ãƒˆ: \${this._count}\`;

    const button = document.createElement('button');
    button.textContent = 'ã‚¯ãƒªãƒƒã‚¯';

    <span class="comment">// 4. ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’æ‰‹å‹•ã§è¿½åŠ </span>
    button.addEventListener('click', () => {
      this._count++;
      <span class="comment">// 5. DOMã‚’æ‰‹å‹•ã§æ›´æ–°ï¼ˆé‡è¦ï¼ï¼‰</span>
      countDisplay.textContent = \`ã‚«ã‚¦ãƒ³ãƒˆ: \${this._count}\`;
    });

    <span class="comment">// 6. ã™ã¹ã¦ã‚’Shadow DOMã«æ‰‹å‹•ã§è¿½åŠ </span>
    container.appendChild(title);
    container.appendChild(countDisplay);
    container.appendChild(button);
    this.shadowRoot.appendChild(style);
    this.shadowRoot.appendChild(container);
  }
}</pre>

        <h3>Litã§ã®å®Ÿè£…ï¼ˆç´„40è¡Œï¼‰</h3>
        <pre>import { LitElement, html, css } from 'lit';

class LitCounter extends LitElement {
  <span class="comment">// 2. ã‚¹ã‚¿ã‚¤ãƒ«ã‚’cssã‚¿ã‚°ã§å®£è¨€çš„ã«å®šç¾©</span>
  static styles = css\`
    :host { display: block; }
    button { background: #667eea; color: white; ... }
  \`;

  <span class="comment">// ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆå¤‰æ›´ã‚’è‡ªå‹•è¿½è·¡ï¼‰</span>
  static properties = {
    count: { type: Number }
  };

  constructor() {
    super(); <span class="comment">// 1. Shadow DOMã¯è‡ªå‹•ä½œæˆ</span>
    this.count = 0;
  }

  <span class="comment">// 3. HTMLã‚’å®£è¨€çš„ã«å®šç¾©</span>
  render() {
    return html\`
      &lt;div class="container"&gt;
        &lt;h3&gt;Litç‰ˆ&lt;/h3&gt;
        &lt;div class="count"&gt;ã‚«ã‚¦ãƒ³ãƒˆ: \${this.count}&lt;/div&gt;
        <span class="comment">// 4. ã‚¤ãƒ™ãƒ³ãƒˆã‚‚å®£è¨€çš„ã«</span>
        &lt;button @click=\${() => this.count++}&gt;
          ã‚¯ãƒªãƒƒã‚¯
        &lt;/button&gt;
      &lt;/div&gt;
    \`;
    <span class="comment">// 5. DOMã®æ›´æ–°ã¯è‡ªå‹•ï¼</span>
  }
}</pre>

        <h2>3. Lit = Shadow DOM + ä¾¿åˆ©ãªç³–è¡£æ§‹æ–‡</h2>

        <div class="mapping">
            <h3>å®Œå…¨ãª1å¯¾1ãƒãƒƒãƒ”ãƒ³ã‚°</h3>
            <p>Litã®æ©Ÿèƒ½ã¯ã€ã™ã¹ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒã‚¤ãƒ†ã‚£ãƒ–APIã«ç›´æ¥ãƒãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã¾ã™ï¼š</p>
        </div>

        <table class="comparison-table">
            <thead>
                <tr>
                    <th>ç´ ã®JavaScriptï¼ˆæ¨™æº–APIï¼‰</th>
                    <th>Litï¼ˆè–„ã„ãƒ©ãƒƒãƒ‘ãƒ¼ï¼‰</th>
                    <th>LitãŒè‡ªå‹•åŒ–ã™ã‚‹ã“ã¨</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>this.attachShadow({mode: 'open'})</code></td>
                    <td><code>class extends LitElement</code></td>
                    <td>âœ… Shadow DOMã®è‡ªå‹•ä½œæˆ</td>
                </tr>
                <tr>
                    <td><code>const style = createElement('style')</code></td>
                    <td><code>static styles = css`...`</code></td>
                    <td>âœ… ã‚¹ã‚¿ã‚¤ãƒ«ã®æ³¨å…¥</td>
                </tr>
                <tr>
                    <td><code>createElement() + appendChild()</code></td>
                    <td><code>html`&lt;div&gt;...&lt;/div&gt;`</code></td>
                    <td>âœ… DOMæ§‹ç¯‰</td>
                </tr>
                <tr>
                    <td><code>addEventListener('click', ...)</code></td>
                    <td><code>@click=${...}</code></td>
                    <td>âœ… ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°</td>
                </tr>
                <tr>
                    <td><code>elem.textContent = newValue</code></td>
                    <td><code>this.property = newValue</code></td>
                    <td>âœ… è‡ªå‹•å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°</td>
                </tr>
            </tbody>
        </table>

        <h2>4. LitãŒæä¾›ã™ã‚‹ã€Œè–„ã•ã€ã®è¨¼æ˜</h2>

        <div class="highlight">
            <strong>é‡è¦ãªäº‹å®Ÿ:</strong>
            <ul style="margin-top: 10px;">
                <li>Lit ã¯æ–°ã—ã„APIã‚’ç™ºæ˜ã—ã¦ã„ã¾ã›ã‚“</li>
                <li>ã™ã¹ã¦ã®æ©Ÿèƒ½ã¯æ¨™æº–ã®Shadow DOM/Custom Elements APIã®ä¸Šã«æ§‹ç¯‰ã•ã‚Œã¦ã„ã¾ã™</li>
                <li>Litã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ç´ ã®JavaScriptã§æ›¸ã„ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨å®Œå…¨ã«äº’æ›æ€§ãŒã‚ã‚Šã¾ã™</li>
                <li>ä»®æƒ³DOMã¯ä½¿ã£ã¦ã„ã¾ã›ã‚“ - ç›´æ¥Shadow DOMã‚’æ“ä½œã—ã¾ã™</li>
            </ul>
        </div>

        <h3>LitãŒå‰Šæ¸›ã™ã‚‹ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆ</h3>
        <ol>
            <li><strong>æ‰‹å‹•DOMæ“ä½œ</strong> â†’ å®£è¨€çš„ãªHTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</li>
            <li><strong>æ‰‹å‹•ã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†</strong> â†’ è‡ªå‹•çš„ãªãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°</li>
            <li><strong>æ‰‹å‹•å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°</strong> â†’ ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</li>
            <li><strong>Shadow DOMåˆæœŸåŒ–</strong> â†’ è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</li>
        </ol>

        <p>ã—ã‹ã—ã€ã“ã‚Œã‚‰ã¯ã™ã¹ã¦<strong>åŒã˜Shadow DOMã®ä¸Šã§å‹•ä½œ</strong>ã—ã¦ã„ã¾ã™ã€‚</p>

        <h2>5. ã‚³ãƒ¼ãƒ‰ã‚µã‚¤ã‚ºã®æ¯”è¼ƒ</h2>

        <table class="comparison-table">
            <thead>
                <tr>
                    <th>é …ç›®</th>
                    <th>ç´ ã®JavaScript</th>
                    <th>Lit</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>ã‚³ãƒ¼ãƒ‰è¡Œæ•°</td>
                    <td>~65è¡Œ</td>
                    <td>~40è¡Œï¼ˆ38%å‰Šæ¸›ï¼‰</td>
                </tr>
                <tr>
                    <td>æ‰‹å‹•DOMæ“ä½œ</td>
                    <td>createElement Ã— 4å›</td>
                    <td>0å›</td>
                </tr>
                <tr>
                    <td>æ‰‹å‹•appendChild</td>
                    <td>5å›</td>
                    <td>0å›</td>
                </tr>
                <tr>
                    <td>æ‰‹å‹•æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯</td>
                    <td>å¿…è¦</td>
                    <td>è‡ªå‹•</td>
                </tr>
                <tr>
                    <td>Litãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚µã‚¤ã‚º</td>
                    <td>-</td>
                    <td>~5KB (gzip)</td>
                </tr>
            </tbody>
        </table>

        <div class="conclusion">
            <h2>çµè«–: Litã¯æœ¬å½“ã«è–„ã„ãƒ©ãƒƒãƒ‘ãƒ¼</h2>
            <p>Litã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®æ¨™æº–Web Components APIã‚’<strong>ç½®ãæ›ãˆã‚‹</strong>ã®ã§ã¯ãªãã€<strong>ã‚ˆã‚Šä½¿ã„ã‚„ã™ãã™ã‚‹</strong>ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚</p>

            <ul>
                <li>âœ… å…¨æ©Ÿèƒ½ãŒãƒã‚¤ãƒ†ã‚£ãƒ–APIã«ç›´æ¥ãƒãƒƒãƒ”ãƒ³ã‚°</li>
                <li>âœ… ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å‰Šæ¸›ï¼ˆã‚³ãƒ¼ãƒ‰é‡ -38%ï¼‰</li>
                <li>âœ… åŒã˜Shadow DOMã‚’ä½¿ç”¨</li>
                <li>âœ… ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚µã‚¤ã‚ºã‚ãšã‹5KB</li>
                <li>âœ… å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„ï¼ˆShadow DOMã‚’ç†è§£ã™ã‚Œã°ç†è§£ã§ãã‚‹ï¼‰</li>
            </ul>

            <p style="margin-top: 20px; font-size: 1.1em;"><strong>Litã‚’å­¦ã¶ = Shadow DOMã‚’å­¦ã¶ + ä¾¿åˆ©ãªç³–è¡£æ§‹æ–‡ã‚’å­¦ã¶</strong></p>
        </div>

        <div style="margin-top: 40px; text-align: center; color: #999;">
            <p><a href="/" style="color: #667eea; text-decoration: none;">â† Web ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå…¥é–€ã«æˆ»ã‚‹</a></p>
        </div>
    </div>

    <script type="module">
        import './src/components/vanilla-counter.js';
        import './src/components/lit-counter.js';
    </script>
</body>
</html>
